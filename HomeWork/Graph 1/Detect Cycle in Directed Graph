class Solution {
  public:
    bool dfs(vector<int> adj[], vector<int> &pathvisited,vector<int> &visited, int source){
      visited[source]=1;
      pathvisited[source]=1;
      for(auto it:adj[source]){
          if(!visited[it]){
              if(dfs(adj,pathvisited,visited,it))
               return true;
          }
          else if(pathvisited[it] && visited[it])
            return true;
      }
      pathvisited[source]=0;
      return false;
    }
    bool isCyclic(int V, vector<int> adj[]) 
    {
       vector<int> pathvisited(V,0);
       vector<int> visited(V,0);
       for(int i=0;i<V;i++){
           if(!visited[i]){
             if(dfs(adj,pathvisited,visited,i))
              return true;
           }
       }
       return false;
    }
};
